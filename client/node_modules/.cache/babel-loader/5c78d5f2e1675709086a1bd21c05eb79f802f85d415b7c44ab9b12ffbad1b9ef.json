{"ast":null,"code":"import _slicedToArray from\"/home/mulubrhan/alx/social_media_for_alx/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import M from\"materialize-css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),url=_useState10[0],setUrl=_useState10[1];useEffect(function(){if(url){uploadFields();}},[url]);var uploadPic=function uploadPic(){var data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",\"insta-clone\");data.append(\"cloud_name\",\"dhw1mueq4\");fetch(\"https://api.cloudinary.com/v1_1/dhw1mueq4/image/upload\",{method:'POST',body:data}).then(function(res){return res.json();}).then(function(data){setUrl(data.url);}).catch(function(err){console.log(err);});};var uploadFields=function uploadFields(){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){M.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"});return;}fetch(\"/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,password:password,email:email,pic:url})}).then(function(res){return res.json();}).then(function(data){if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{M.toast({html:data.message,classes:\"#43a047 green darken-1\"});navigate(\"/signin\");}});};var PostData=function PostData(){if(image){uploadPic();}else{uploadFields();}};return/*#__PURE__*/_jsx(\"div\",{className:\"mycard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card auth-card input-field\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Instagram\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn #64b5f6 blue darken-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Upload image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return setImage(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function onClick(){return PostData();},children:\"Signup\"}),/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Already have an account\"})})]})});};export default SignUp;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","M","jsx","_jsx","jsxs","_jsxs","SignUp","navigate","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","password","setPassword","_useState5","_useState6","email","setEmail","_useState7","_useState8","image","setImage","_useState9","undefined","_useState10","url","setUrl","uploadFields","uploadPic","data","FormData","append","fetch","method","body","then","res","json","catch","err","console","log","test","toast","html","classes","headers","JSON","stringify","pic","error","message","PostData","className","children","type","placeholder","value","onChange","e","target","files","onClick","to"],"sources":["/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Signup.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nconst SignUp = () => {\n  const navigate = useNavigate();\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(undefined);\n  useEffect(()=>{\n    if(url){\n      uploadFields()\n    }\n  },[url])\n  const uploadPic = (()=>{\n    const data = new FormData()\n    data.append(\"file\",image)\n    data.append(\"upload_preset\",\"insta-clone\")\n    data.append(\"cloud_name\",\"dhw1mueq4\")\n    fetch(\"https://api.cloudinary.com/v1_1/dhw1mueq4/image/upload\",{\n        method:'POST',\n        body:data\n    })\n    .then((res)=>res.json())\n    .then(data=>{\n        setUrl(data.url)\n    })\n    .catch(err=>{\n        console.log(err)\n    })\n  })\n  const uploadFields=()=>{\n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n    {\n        M.toast({ html: \"invalid email\", classes: \"#c62828 red darken-3\" });\n        return\n    }\n    fetch(\"/signup\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name, password, email, pic:url}),\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n        } else {\n          M.toast({ html: data.message, classes: \"#43a047 green darken-1\" });\n          navigate(\"/signin\");\n        }\n      });\n  }\n  const PostData = () => {\n    if(image){\n      uploadPic()\n    }else{\n      uploadFields()\n    }\n  };\n\n  return (\n    <div className=\"mycard\">\n      <div className=\"card auth-card input-field\">\n        <h2>Instagram</h2>\n        <input type=\"text\" placeholder=\"name\" value={name} onChange={(e) => setName(e.target.value)} />\n        <input type=\"text\" placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n        <input type=\"password\" placeholder=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        <div className=\"file-field input-field\">\n                <div className=\"btn #64b5f6 blue darken-1\">\n                    <span>Upload image</span>\n                    <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\n                </div>\n                <div className=\"file-path-wrapper\">\n                    <input className=\"file-path validate\" type=\"text\" />\n                </div>\n            </div>\n        <button\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n          onClick={() => PostData()}\n        >\n          Signup\n        </button>\n        <h5>\n          <Link to=\"/signin\">Already have an account</Link>\n        </h5>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}