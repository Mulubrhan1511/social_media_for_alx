{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{UserContext}from'../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(){var navigate=useNavigate();var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var user=JSON.parse(localStorage.getItem(\"user\"));useEffect(function(){var user=JSON.parse(localStorage.getItem(\"user\"));if(user){dispatch({type:\"USER\",payload:user});navigate('/');}else{navigate('/signin');}},[]);return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-wrapper white\",children:[/*#__PURE__*/_jsx(Link,{to:user?\"/\":\"/signin\",className:\"brand-logo\",children:\"Instagram\"}),/*#__PURE__*/_jsx(\"ul\",{id:\"nav-mobile\",className:\"right hide-on-med-and-down\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\"Create Post\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/myfollowerspost\",children:\"My Following Post\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn #c62828 red darken-3\",onClick:function onClick(){localStorage.clear();dispatch({type:\"LOGOUT\"});navigate('/signin');},children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Sign in\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})})]})})]})});};export default NavBar;","map":{"version":3,"names":["React","useContext","useEffect","Link","useNavigate","UserContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","NavBar","navigate","_useContext","state","dispatch","user","JSON","parse","localStorage","getItem","type","payload","children","className","to","id","onClick","clear"],"sources":["/home/mulubrhan/alx/social_media_for_alx/client/src/components/Navbar.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserContext } from '../App';\n\nconst NavBar = () => {\n  const navigate = useNavigate();\n  const { state, dispatch } = useContext(UserContext);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n      navigate('/');\n    } else {\n      navigate('/signin');\n    }\n  }, []);\n\n  return (\n    <nav>\n      <div className=\"nav-wrapper white\">\n        <Link to={user ? \"/\" : \"/signin\"} className=\"brand-logo\">Instagram</Link>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          {user ? (\n            <>\n              <li><Link to=\"/profile\">Profile</Link></li>\n              <li><Link to=\"/create\">Create Post</Link></li>\n              <li><Link to=\"/myfollowerspost\">My Following Post</Link></li>\n              <li>\n                <button className=\"btn #c62828 red darken-3\"\n                  onClick={() => {\n                    localStorage.clear();\n                    dispatch({ type: \"LOGOUT\" });\n                    navigate('/signin');\n                  }}\n                >\n                  Logout\n                </button>\n              </li>\n            </>\n          ) : (\n            <>\n              <li><Link to=\"/signin\">Sign in</Link></li>\n              <li><Link to=\"/signup\">Sign up</Link></li>\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}