[{"/home/mulubrhan/Documents/MERN/client/src/index.js":"1","/home/mulubrhan/Documents/MERN/client/src/App.js":"2","/home/mulubrhan/Documents/MERN/client/src/reportWebVitals.js":"3","/home/mulubrhan/Documents/MERN/client/src/components/Navbar.js":"4","/home/mulubrhan/Documents/MERN/client/src/components/screens/Home.js":"5","/home/mulubrhan/Documents/MERN/client/src/components/screens/Profile.js":"6","/home/mulubrhan/Documents/MERN/client/src/components/screens/Signup.js":"7","/home/mulubrhan/Documents/MERN/client/src/components/screens/Signin.js":"8","/home/mulubrhan/Documents/MERN/client/src/components/screens/CreatePost.js":"9","/home/mulubrhan/Documents/MERN/client/src/reducers/userReducer.js":"10","/home/mulubrhan/Documents/MERN/client/src/components/screens/UserProfile.js":"11","/home/mulubrhan/Documents/MERN/client/src/components/screens/SubscribeUserPost.js":"12","/home/mulubrhan/Documents/MERN/client/src/components/screens/Messages.js":"13","/home/mulubrhan/alx/social_media_for_alx/client/src/index.js":"14","/home/mulubrhan/alx/social_media_for_alx/client/src/reportWebVitals.js":"15","/home/mulubrhan/alx/social_media_for_alx/client/src/App.js":"16","/home/mulubrhan/alx/social_media_for_alx/client/src/components/Navbar.js":"17","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Home.js":"18","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Signin.js":"19","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Signup.js":"20","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/CreatePost.js":"21","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/UserProfile.js":"22","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/SubscribeUserPost.js":"23","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Profile.js":"24","/home/mulubrhan/alx/social_media_for_alx/client/src/reducers/userReducer.js":"25","/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Messages.js":"26"},{"size":535,"mtime":1691485473048,"results":"27","hashOfConfig":"28"},{"size":1882,"mtime":1693386924512,"results":"29","hashOfConfig":"28"},{"size":362,"mtime":1691485473060,"results":"30","hashOfConfig":"28"},{"size":1658,"mtime":1693386900271,"results":"31","hashOfConfig":"28"},{"size":5903,"mtime":1692367045370,"results":"32","hashOfConfig":"28"},{"size":3799,"mtime":1693386016255,"results":"33","hashOfConfig":"28"},{"size":2986,"mtime":1692712417001,"results":"34","hashOfConfig":"28"},{"size":2007,"mtime":1691770619399,"results":"35","hashOfConfig":"28"},{"size":2800,"mtime":1692710970053,"results":"36","hashOfConfig":"28"},{"size":400,"mtime":1692352779623,"results":"37","hashOfConfig":"28"},{"size":4783,"mtime":1693385893870,"results":"38","hashOfConfig":"28"},{"size":5903,"mtime":1692366972321,"results":"39","hashOfConfig":"28"},{"size":8441,"mtime":1693397617022,"results":"40","hashOfConfig":"28"},{"size":535,"mtime":1691485473048,"results":"41","hashOfConfig":"42"},{"size":362,"mtime":1691485473060,"results":"43","hashOfConfig":"42"},{"size":1882,"mtime":1693386924512,"results":"44","hashOfConfig":"42"},{"size":1653,"mtime":1693559143740,"results":"45","hashOfConfig":"42"},{"size":5903,"mtime":1693551727304,"results":"46","hashOfConfig":"42"},{"size":2007,"mtime":1691770619399,"results":"47","hashOfConfig":"42"},{"size":2986,"mtime":1692712417001,"results":"48","hashOfConfig":"42"},{"size":2800,"mtime":1692710970053,"results":"49","hashOfConfig":"42"},{"size":4783,"mtime":1693385893870,"results":"50","hashOfConfig":"42"},{"size":5903,"mtime":1692366972321,"results":"51","hashOfConfig":"42"},{"size":3799,"mtime":1693386016255,"results":"52","hashOfConfig":"42"},{"size":400,"mtime":1692352779623,"results":"53","hashOfConfig":"42"},{"size":7996,"mtime":1693579286263,"results":"54","hashOfConfig":"42"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"1oh2j7n",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"63"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80"},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"58"},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1tuqd4m",{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","suppressedMessages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"124","messages":"125","suppressedMessages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139"},"/home/mulubrhan/Documents/MERN/client/src/index.js",[],[],[],"/home/mulubrhan/Documents/MERN/client/src/App.js",["140","141"],[],"import React,{createContext, useContext,useEffect,useReducer} from \"react\";\nimport NavBar from \"./components/Navbar\";\nimport \"./App.css\"\nimport { BrowserRouter, Route, Routes, useNavigate } from \"react-router-dom\";\nimport Home from \"./components/screens/Home\";\nimport Signin from \"./components/screens/Signin\";\nimport Profile from \"./components/screens/Profile\";\nimport Signup from \"./components/screens/Signup\";\nimport CreatePost from \"./components/screens/CreatePost\";\nimport {reducer,initialState} from \"./reducers/userReducer\"\nimport UserProfile from \"./components/screens/UserProfile\"\nimport Message from \"./components/screens/Messages\"\nimport SubscribedUserPost from \"./components/screens/SubscribeUserPost\"\n\nexport const UserContext = createContext()\n\nconst Routing =()=>{\n  const navigate = useNavigate()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",paylaod:user})\n      navigate('/');\n    }else{\n      navigate('/signin');\n    }\n  },[])\n  return(\n    \n    <Routes>\n          <Route exact path=\"/\" element={<Home />} />\n          <Route path=\"/signin\" element={<Signin />} />\n          <Route path=\"/signup\" element={<Signup />} />\n          <Route path=\"/profile\" element={<Profile />} />\n          <Route path=\"/create\" element={<CreatePost />} />\n          <Route path=\"/messsage\" element={<Message />} />\n          <Route path=\"/profile/:userid\" element={<UserProfile />} />\n          <Route path=\"/myfollowerspost\" element={<SubscribedUserPost />} />\n    </Routes>\n    \n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n    <NavBar />\n    <Routing />\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n",[],"/home/mulubrhan/Documents/MERN/client/src/reportWebVitals.js",[],[],"/home/mulubrhan/Documents/MERN/client/src/components/Navbar.js",["142","143"],[],"import React, { useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserContext } from '../App';\n\nconst NavBar = () => {\n  const navigate = useNavigate();\n  const { state, dispatch } = useContext(UserContext);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n      navigate('/');\n    } else {\n      navigate('/signin');\n    }\n  }, []);\n\n  return (\n    <nav>\n      <div className=\"nav-wrapper white\">\n        <Link to={user ? \"/\" : \"/signin\"} className=\"brand-logo\">Instagram</Link>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          {user ? (\n            <>\n              <li><Link to=\"/profile\">Profile</Link></li>\n              <li><Link to=\"/create\">Create Post</Link></li>\n              <li><Link to=\"/myfollowerspost\">My Following Post</Link></li>\n              <li><Link to=\"/messsage\">Message</Link></li>\n              <li>\n                <button className=\"btn #c62828 red darken-3\"\n                  onClick={() => {\n                    localStorage.clear();\n                    dispatch({ type: \"LOGOUT\" });\n                    navigate('/signin');\n                  }}\n                >\n                  Logout\n                </button>\n              </li>\n            </>\n          ) : (\n            <>\n              <li><Link to=\"/signin\">Sign in</Link></li>\n              <li><Link to=\"/signup\">Sign up</Link></li>\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;","/home/mulubrhan/Documents/MERN/client/src/components/screens/Home.js",[],[],"/home/mulubrhan/Documents/MERN/client/src/components/screens/Profile.js",[],[],"/home/mulubrhan/Documents/MERN/client/src/components/screens/Signup.js",["144","145","146"],[],"import React, { useState, useEffect} from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nconst SignUp = () => {\n  const navigate = useNavigate();\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(undefined);\n  useEffect(()=>{\n    if(url){\n      uploadFields()\n    }\n  },[url])\n  const uploadPic = (()=>{\n    const data = new FormData()\n    data.append(\"file\",image)\n    data.append(\"upload_preset\",\"insta-clone\")\n    data.append(\"cloud_name\",\"dhw1mueq4\")\n    fetch(\"https://api.cloudinary.com/v1_1/dhw1mueq4/image/upload\",{\n        method:'POST',\n        body:data\n    })\n    .then((res)=>res.json())\n    .then(data=>{\n        setUrl(data.url)\n    })\n    .catch(err=>{\n        console.log(err)\n    })\n  })\n  const uploadFields=()=>{\n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n    {\n        M.toast({ html: \"invalid email\", classes: \"#c62828 red darken-3\" });\n        return\n    }\n    fetch(\"/signup\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ name, password, email, pic:url}),\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n        } else {\n          M.toast({ html: data.message, classes: \"#43a047 green darken-1\" });\n          navigate(\"/signin\");\n        }\n      });\n  }\n  const PostData = () => {\n    if(image){\n      uploadPic()\n    }else{\n      uploadFields()\n    }\n  };\n\n  return (\n    <div className=\"mycard\">\n      <div className=\"card auth-card input-field\">\n        <h2>Instagram</h2>\n        <input type=\"text\" placeholder=\"name\" value={name} onChange={(e) => setName(e.target.value)} />\n        <input type=\"text\" placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n        <input type=\"password\" placeholder=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        <div className=\"file-field input-field\">\n                <div className=\"btn #64b5f6 blue darken-1\">\n                    <span>Upload image</span>\n                    <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\n                </div>\n                <div className=\"file-path-wrapper\">\n                    <input className=\"file-path validate\" type=\"text\" />\n                </div>\n            </div>\n        <button\n          className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\n          onClick={() => PostData()}\n        >\n          Signup\n        </button>\n        <h5>\n          <Link to=\"/signin\">Already have an account</Link>\n        </h5>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n","/home/mulubrhan/Documents/MERN/client/src/components/screens/Signin.js",["147","148","149"],[],"import React, { useState,useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport M from \"materialize-css\";\nimport {UserContext} from \"../../App\"\n\nconst SignIn = ()=>{\n  const {state,dispatch} = useContext(UserContext)\n  const navigate = useNavigate();\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const PostData = () => {\n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email))\n    {\n        M.toast({ html: \"invalid email\", classes: \"#c62828 red darken-3\" });\n        return\n    }\n    fetch(\"/signin\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ password, email }),\n    })\n      .then(res => res.json())\n      .then(data => {\n        console.log(data)\n        if (data.error) {\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\n        } else {\n          localStorage.setItem(\"jwt\",data.token)\n          localStorage.setItem(\"user\",JSON.stringify(data.user))\n          dispatch({type:\"USER\",payload:data.user})\n          M.toast({ html: \"sidin succesfully\", classes: \"#43a047 green darken-1\" });\n          navigate(\"/\");\n        }\n      });\n  };\n    return(\n       <div className=\"mycard\">\n        <div className=\"card auth-card input-field\">\n            <h2>Instagram</h2>\n            <input type=\"text\" placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n            <input type=\"password\" placeholder=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\" onClick={()=>PostData()}>\n                Login\n            </button>\n            <h5>\n                <Link to=\"/signup\">Don't have an account?</Link>\n            </h5>\n        </div>\n       </div>\n    )\n}\n\nexport default SignIn","/home/mulubrhan/Documents/MERN/client/src/components/screens/CreatePost.js",["150"],[],"/home/mulubrhan/Documents/MERN/client/src/reducers/userReducer.js",["151"],[],"/home/mulubrhan/Documents/MERN/client/src/components/screens/UserProfile.js",[],[],"/home/mulubrhan/Documents/MERN/client/src/components/screens/SubscribeUserPost.js",[],[],"/home/mulubrhan/Documents/MERN/client/src/components/screens/Messages.js",["152","153","154","155","156"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/index.js",[],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/reportWebVitals.js",[],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/App.js",["157","158"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/Navbar.js",["159","160"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Home.js",[],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Signin.js",["161","162","163"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Signup.js",["164","165","166"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/CreatePost.js",["167"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/UserProfile.js",[],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/SubscribeUserPost.js",[],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Profile.js",[],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/reducers/userReducer.js",["168"],[],"/home/mulubrhan/alx/social_media_for_alx/client/src/components/screens/Messages.js",["169","170","171","172","173","174","175"],[],"import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { UserContext } from \"../../App\";\nimport { useParams } from 'react-router-dom';\n\nconst FollowerList = ({ followers, setSelectedFollower }) => {\n \n  return (\n    <div className=\"col-md-6 col-lg-5 col-xl-4 mb-4 mb-md-0\">\n      <div className=\"input-group rounded mb-3\">\n        <input\n          type=\"search\"\n          className=\"form-control rounded\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          aria-describedby=\"search-addon\"\n        />\n      </div>\n\n      <div className=\"p-3\">\n        <div\n          className=\"chat-contact-list\"\n          data-mdb-perfect-scrollbar=\"true\"\n          style={{ position: 'relative', height: '400px', overflowY: 'auto' }}\n        >\n          <ul className=\"list-unstyled mb-0\">\n            {followers.map((follower) => (\n              <li className=\"p-2 border-bottom\" key={follower.id}>\n                <a href=\"#\" className=\"d-flex justify-content-between\" onClick={() => setSelectedFollower(follower)}>\n                  <div className=\"d-flex flex-row\">\n                    <div>\n                      <img\n                        src={follower.pic}\n                        alt=\"avatar\"\n                        className=\"d-flex align-self-center me-3\"\n                        style={{ width: \"60px\", height: \"60px\", borderRadius: \"40px\" }}\n                      />\n                      <span className=\"badge bg-warning badge-dot\"></span>\n                    </div>\n                    <div className=\"pt-1\">\n                      <p className=\"fw-bold mb-0\">{follower.name}</p>\n                      <p className=\"small text-muted\">Lorem ipsum dolor sit.</p>\n                    </div>\n                  </div>\n                  <div className=\"pt-1\">\n                    <p className=\"small text-muted mb-1\">Yesterday</p>\n                  </div>\n                </a>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\nconst ChatSection = ({ selectedFollower, user }) => {\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const inputRef = useRef(null); // Create a ref for the input element\n\n  const fetchMessages = async () => {\n    try {\n      const response = await fetch('/messages', {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n        },\n      });\n  \n      if (!response.ok) {\n        throw new Error('Failed to fetch messages');\n      }\n  \n      const data = await response.json();\n      console.log('Messages', data);\n      setMessages(data);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    }\n  };\n  \n  const sendMessage = async () => {\n    try {\n      const response = await fetch('/messages', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n        },\n        body: JSON.stringify({\n          recipientId: selectedFollower._id,\n          content: message,\n        }),\n      });\n  \n      if (!response.ok) {\n        throw new Error('Failed to send message');\n      }\n  \n      const data = await response.json();\n      console.log('Message sent:', data);\n  \n      // Clear the input field after sending the message\n      setMessage('');\n      inputRef.current.value = ''; // Reset the input field using the ref\n  \n      // Fetch the latest messages after sending a new message\n      fetchMessages();\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchMessages();\n  }, [selectedFollower]);\n\n  if (!selectedFollower) {\n    return (\n      <div className=\"col-md-6 col-lg-7 col-xl-8\" style={{ marginBottom: '4px', marginBottom: '0', overflowY: 'auto' }}>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"col-md-6 col-lg-7 col-xl-8\" style={{ marginBottom: '4px', marginBottom: '0', overflowY: 'auto' }}>\n      <div className=\"pt-3 pe-3 overflow-auto\" data-mdb-perfect-scrollbar=\"true\" style={{ position: 'relative', height: '400px' }}>\n        {/* Chat messages */}\n        {messages.map((message) =>\n          message.recipient._id === selectedFollower._id || message.sender._id === selectedFollower._id ? (\n            message.sender._id==user._id?(\n              <div className=\"d-flex flex-row justify-content-end\" key={message.id}>\n              <div>\n                <p className=\"small p-2 me-3 mb-1 text-white rounded-3 bg-primary\">{message.content}</p>\n                <p className=\"small me-3 mb-3 rounded-3 text-muted\">{message.timestamp}</p>\n              </div>\n              <img\n                src={selectedFollower.pic}\n                alt=\"avatar\"\n                className=\"d-flex align-self-center me-3\"\n                style={{ width: '60px', height: '40px', borderRadius: '40px' }}\n              />\n            </div>\n            ):(\n              <div className=\"d-flex flex-row justify-content-start\" key={message.id}>\n                    <img src={user.pic}\n                      alt=\"avatar 1\" style={{ width: '60px', height: '40px', borderRadius: '40px' }} />\n                    <div>\n                      <p className=\"small p-2 ms-3 mb-1 rounded-3\" style={{ backgroundColor: '#f0f0f0' }}>{message.content}\n                      </p>\n                      <p className=\"small ms-3 mb-3 rounded-3 text-muted float-end\">12:00 PM | Aug 13</p>\n                    </div>\n                  </div>\n            )\n\n            \n          ) : null\n        )}\n      </div>\n\n      <div className=\"text-muted d-flex justify-content-start align-items-center pe-3 pt-3 mt-2\">\n        <img src={user.pic} alt=\"avatar 3\" style={{ width: '60px', height: '40px', borderRadius: '40px' }} />\n        <input\n          type=\"text\"\n          className=\"form-control form-control-lg\"\n          id=\"exampleFormControlInput2\"\n          placeholder=\"Type message\"\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          ref={inputRef} // Assign the ref to the input element\n        />\n        <a className=\"ms-1 text-muted\" href=\"#!\">\n          <i className=\"fas fa-paperclip\"></i>\n        </a>\n        <a className=\"ms-3 text-muted\" href=\"#!\">\n          <i className=\"fas fa-smile\"></i>\n        </a>\n        <a className=\"ms-3\" href=\"#!\" onClick={sendMessage}>\n          <i className=\"fas fa-paper-plane\"></i>\n        </a>\n      </div>\n    </div>\n  );\n};\n\n\nconst Message = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const { userId } = useParams();\n  const [followers, setFollowers] = useState([]);\n  const [selectedFollower, setSelectedFollower] = useState(null);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  \n  useEffect(() => {\n    const fetchFollowers = async () => {\n      try {\n        const response = await fetch(`/followers`, {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n          },\n        });\n        const data = await response.json();\n        console.log(\"Fetched followers:\", data); // Log the fetched data\n        setFollowers(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchFollowers();\n  }, []);\n\n \n\n  return (\n    <div>\n      <section style={{ backgroundColor: '#CDC4F9' }}>\n        <div className=\"container py-5\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"card\" id=\"chat3\" style={{ borderRadius: '15px' }}>\n                <div className=\"card-body\">\n                  <div className=\"row\">\n                    <FollowerList followers={followers} setSelectedFollower={setSelectedFollower} />\n                    <ChatSection selectedFollower={selectedFollower} user={user} />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Message;",{"ruleId":"176","severity":1,"message":"177","line":19,"column":10,"nodeType":"178","messageId":"179","endLine":19,"endColumn":15},{"ruleId":"180","severity":1,"message":"181","line":28,"column":5,"nodeType":"182","endLine":28,"endColumn":7,"suggestions":"183"},{"ruleId":"176","severity":1,"message":"177","line":7,"column":11,"nodeType":"178","messageId":"179","endLine":7,"endColumn":16},{"ruleId":"180","severity":1,"message":"181","line":18,"column":6,"nodeType":"182","endLine":18,"endColumn":8,"suggestions":"184"},{"ruleId":"180","severity":1,"message":"185","line":16,"column":5,"nodeType":"182","endLine":16,"endColumn":10,"suggestions":"186"},{"ruleId":"187","severity":1,"message":"188","line":35,"column":19,"nodeType":"189","messageId":"190","endLine":35,"endColumn":20,"suggestions":"191"},{"ruleId":"187","severity":1,"message":"188","line":35,"column":44,"nodeType":"189","messageId":"190","endLine":35,"endColumn":45,"suggestions":"192"},{"ruleId":"176","severity":1,"message":"177","line":7,"column":10,"nodeType":"178","messageId":"179","endLine":7,"endColumn":15},{"ruleId":"187","severity":1,"message":"188","line":12,"column":19,"nodeType":"189","messageId":"190","endLine":12,"endColumn":20,"suggestions":"193"},{"ruleId":"187","severity":1,"message":"188","line":12,"column":44,"nodeType":"189","messageId":"190","endLine":12,"endColumn":45,"suggestions":"194"},{"ruleId":"180","severity":1,"message":"195","line":36,"column":7,"nodeType":"182","endLine":36,"endColumn":12,"suggestions":"196"},{"ruleId":"197","severity":1,"message":"198","line":10,"column":9,"nodeType":"199","messageId":"200","endLine":10,"endColumn":29},{"ruleId":"176","severity":1,"message":"201","line":1,"column":15,"nodeType":"178","messageId":"179","endLine":1,"endColumn":25},{"ruleId":"176","severity":1,"message":"202","line":1,"column":27,"nodeType":"178","messageId":"179","endLine":1,"endColumn":36},{"ruleId":"176","severity":1,"message":"203","line":1,"column":38,"nodeType":"178","messageId":"179","endLine":1,"endColumn":46},{"ruleId":"176","severity":1,"message":"204","line":2,"column":10,"nodeType":"178","messageId":"179","endLine":2,"endColumn":21},{"ruleId":"176","severity":1,"message":"205","line":3,"column":9,"nodeType":"178","messageId":"179","endLine":3,"endColumn":18},{"ruleId":"176","severity":1,"message":"177","line":19,"column":10,"nodeType":"178","messageId":"179","endLine":19,"endColumn":15},{"ruleId":"180","severity":1,"message":"181","line":28,"column":5,"nodeType":"182","endLine":28,"endColumn":7,"suggestions":"206"},{"ruleId":"176","severity":1,"message":"177","line":7,"column":11,"nodeType":"178","messageId":"179","endLine":7,"endColumn":16},{"ruleId":"180","severity":1,"message":"181","line":18,"column":6,"nodeType":"182","endLine":18,"endColumn":8,"suggestions":"207"},{"ruleId":"176","severity":1,"message":"177","line":7,"column":10,"nodeType":"178","messageId":"179","endLine":7,"endColumn":15},{"ruleId":"187","severity":1,"message":"188","line":12,"column":19,"nodeType":"189","messageId":"190","endLine":12,"endColumn":20,"suggestions":"208"},{"ruleId":"187","severity":1,"message":"188","line":12,"column":44,"nodeType":"189","messageId":"190","endLine":12,"endColumn":45,"suggestions":"209"},{"ruleId":"180","severity":1,"message":"185","line":16,"column":5,"nodeType":"182","endLine":16,"endColumn":10,"suggestions":"210"},{"ruleId":"187","severity":1,"message":"188","line":35,"column":19,"nodeType":"189","messageId":"190","endLine":35,"endColumn":20,"suggestions":"211"},{"ruleId":"187","severity":1,"message":"188","line":35,"column":44,"nodeType":"189","messageId":"190","endLine":35,"endColumn":45,"suggestions":"212"},{"ruleId":"180","severity":1,"message":"195","line":36,"column":7,"nodeType":"182","endLine":36,"endColumn":12,"suggestions":"213"},{"ruleId":"197","severity":1,"message":"198","line":10,"column":9,"nodeType":"199","messageId":"200","endLine":10,"endColumn":29},{"ruleId":"214","severity":1,"message":"215","line":28,"column":17,"nodeType":"216","endLine":28,"endColumn":118},{"ruleId":"217","severity":1,"message":"218","line":119,"column":81,"nodeType":"219","messageId":"220","endLine":119,"endColumn":93},{"ruleId":"217","severity":1,"message":"218","line":125,"column":79,"nodeType":"219","messageId":"220","endLine":125,"endColumn":91},{"ruleId":"221","severity":1,"message":"222","line":130,"column":31,"nodeType":"223","messageId":"220","endLine":130,"endColumn":33},{"ruleId":"176","severity":1,"message":"177","line":187,"column":11,"nodeType":"178","messageId":"179","endLine":187,"endColumn":16},{"ruleId":"176","severity":1,"message":"224","line":187,"column":18,"nodeType":"178","messageId":"179","endLine":187,"endColumn":26},{"ruleId":"176","severity":1,"message":"225","line":188,"column":11,"nodeType":"178","messageId":"179","endLine":188,"endColumn":17},"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'navigate'. Either include them or remove the dependency array.","ArrayExpression",["226"],["227"],"React Hook useEffect has a missing dependency: 'uploadFields'. Either include it or remove the dependency array.",["228"],"no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["229","230"],["231","232"],["233","234"],["235","236"],"React Hook useEffect has missing dependencies: 'body', 'navigate', and 'title'. Either include them or remove the dependency array.",["237"],"no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","'useContext' is defined but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","'UserContext' is defined but never used.","'useParams' is defined but never used.",["238"],["239"],["240","241"],["242","243"],["244"],["245","246"],["247","248"],["249"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-dupe-keys","Duplicate key 'marginBottom'.","ObjectExpression","unexpected","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","'dispatch' is assigned a value but never used.","'userId' is assigned a value but never used.",{"desc":"250","fix":"251"},{"desc":"250","fix":"252"},{"desc":"253","fix":"254"},{"messageId":"255","fix":"256","desc":"257"},{"messageId":"258","fix":"259","desc":"260"},{"messageId":"255","fix":"261","desc":"257"},{"messageId":"258","fix":"262","desc":"260"},{"messageId":"255","fix":"263","desc":"257"},{"messageId":"258","fix":"264","desc":"260"},{"messageId":"255","fix":"265","desc":"257"},{"messageId":"258","fix":"266","desc":"260"},{"desc":"267","fix":"268"},{"desc":"250","fix":"269"},{"desc":"250","fix":"270"},{"messageId":"255","fix":"271","desc":"257"},{"messageId":"258","fix":"272","desc":"260"},{"messageId":"255","fix":"273","desc":"257"},{"messageId":"258","fix":"274","desc":"260"},{"desc":"253","fix":"275"},{"messageId":"255","fix":"276","desc":"257"},{"messageId":"258","fix":"277","desc":"260"},{"messageId":"255","fix":"278","desc":"257"},{"messageId":"258","fix":"279","desc":"260"},{"desc":"267","fix":"280"},"Update the dependencies array to be: [dispatch, navigate]",{"range":"281","text":"282"},{"range":"283","text":"282"},"Update the dependencies array to be: [uploadFields, url]",{"range":"284","text":"285"},"removeEscape",{"range":"286","text":"287"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"288","text":"289"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"290","text":"287"},{"range":"291","text":"289"},{"range":"292","text":"287"},{"range":"293","text":"289"},{"range":"294","text":"287"},{"range":"295","text":"289"},"Update the dependencies array to be: [body, navigate, title, url]",{"range":"296","text":"297"},{"range":"298","text":"282"},{"range":"299","text":"282"},{"range":"300","text":"287"},{"range":"301","text":"289"},{"range":"302","text":"287"},{"range":"303","text":"289"},{"range":"304","text":"285"},{"range":"305","text":"287"},{"range":"306","text":"289"},{"range":"307","text":"287"},{"range":"308","text":"289"},{"range":"309","text":"297"},[1066,1068],"[dispatch, navigate]",[533,535],[475,480],"[uploadFields, url]",[956,957],"",[956,956],"\\",[981,982],[981,981],[419,420],[419,419],[444,445],[444,444],[1226,1231],"[body, navigate, title, url]",[1066,1068],[533,535],[419,420],[419,419],[444,445],[444,444],[475,480],[956,957],[956,956],[981,982],[981,981],[1226,1231]]